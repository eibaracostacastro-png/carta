<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Generador de Carta - Licencia Tipo D</title>
  <style>
    body {
      font-family: "Times New Roman", serif;
      background: #f2f2f2;
      margin: 0;
      padding: 20px;
    }
    .contenedor {
      max-width: 900px;
      margin: 0 auto;
    }
    h1 {
      text-align: center;
      margin-bottom: 10px;
    }
    .formulario {
      background: #ffffff;
      padding: 15px 20px;
      border-radius: 8px;
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
      margin-bottom: 15px;
      font-size: 14px;
    }
    .form-group {
      margin-bottom: 8px;
    }
    label {
      display: block;
      font-weight: bold;
      margin-bottom: 3px;
    }
    input, select {
      width: 100%;
      padding: 5px 8px;
      font-size: 14px;
      box-sizing: border-box;
    }
    button {
      padding: 8px 15px;
      font-size: 14px;
      cursor: pointer;
      border-radius: 4px;
      border: 1px solid #333;
      background: #fff;
      margin-right: 5px;
    }
    button:hover {
      background: #f3f3f3;
    }
    .carta-wrapper {
      display: flex;
      justify-content: center;
    }
    .carta {
      background: #ffffff;
      padding: 35px 50px;
      border-radius: 8px;
      box-shadow: 0 0 5px rgba(0,0,0,0.15);
      line-height: 1.15;
      font-size: 14px;
      white-space: pre-wrap;
      width: 100%;
      max-width: 700px; /* parecido a hoja A4 */
    }
    .acciones {
      margin-top: 10px;
      text-align: right;
    }

    /* Configuración especial para impresión */
    @page {
      size: A4;
      margin: 2cm;
    }

    @media print {
      body {
        background: #ffffff;
        margin: 0;
        padding: 0;
      }
      .formulario, .acciones, h1 {
        display: none;
      }
      .contenedor {
        margin: 0;
        padding: 0;
        max-width: none;
      }
      .carta-wrapper {
        margin: 0;
        padding: 0;
      }
      .carta {
        box-shadow: none;
        border-radius: 0;
        padding: 0;
        max-width: none;
      }
    }
  </style>
</head>
<body>
  <div class="contenedor">
    <h1>Generador de carta para licencias D1 · D2 · D3</h1>

    <div class="formulario">
      <div class="form-group">
        <label for="sedeCiudad">Ciudad de la sede regional:</label>
        <input type="text" id="sedeCiudad" placeholder="Ej.: Limón, Guápiles, Alajuela">
      </div>

      <div class="form-group">
        <label for="nombreTrabajador">Nombre completo del participante:</label>
        <input type="text" id="nombreTrabajador" placeholder="Nombre de la persona">
      </div>

      <div class="form-group">
        <label for="cedulaTrabajador">Cédula del participante:</label>
        <input type="text" id="cedulaTrabajador" placeholder="0-0000-0000">
      </div>

      <div class="form-group">
        <label for="vecino">Lugar de vecindad:</label>
        <input type="text" id="vecino" placeholder="Ej.: Guápiles, Pococí, Limón">
      </div>

      <div class="form-group">
        <label for="correo">Correo electrónico del participante:</label>
        <input type="email" id="correo" placeholder="correo@ejemplo.com">
      </div>

      <div className="form-group">
        <label for="telefono">Teléfono del participante:</label>
        <input type="text" id="telefono" placeholder="0000-0000">
      </div>

      <div class="form-group">
        <label for="tipoLicencia">Tipo de licencia a solicitar:</label>
        <select id="tipoLicencia">
          <option value="D1">D1</option>
          <option value="D2">D2</option>
          <option value="D3" selected>D3</option>
        </select>
      </div>

      <button type="button" onclick="generarCarta()">Generar carta</button>
      <button type="button" onclick="copiarTexto()">Copiar texto plano</button>
    </div>

    <div class="carta-wrapper">
      <div id="carta" class="carta"></div>
    </div>

    <div class="acciones">
      <button type="button" onclick="window.print()">Imprimir / Guardar como PDF</button>
    </div>
  </div>

  <script>
    const MESES = [
      "enero", "febrero", "marzo", "abril", "mayo", "junio",
      "julio", "agosto", "septiembre", "octubre", "noviembre", "diciembre"
    ];

    const DIAS = [
      "domingo", "lunes", "martes", "miércoles", "jueves", "viernes", "sábado"
    ];

    function formatearFecha(fecha) {
      const dia = fecha.getDate();
      const mes = MESES[fecha.getMonth()];
      const anio = fecha.getFullYear();
      return `${dia} de ${mes} de ${anio}`;
    }

    function formatearFechaConDia(fecha) {
      const nombreDia = DIAS[fecha.getDay()];
      const dia = fecha.getDate();
      const mes = MESES[fecha.getMonth()];
      const anio = fecha.getFullYear();
      return `${nombreDia} ${dia} de ${mes} del ${anio}`;
    }

    function ajustarFechaHabil(fecha) {
      const f = new Date(fecha);
      const d = f.getDay(); // 0 dom, 6 sáb
      if (d === 6) f.setDate(f.getDate() - 1);
      if (d === 0) f.setDate(f.getDate() - 2);
      return f;
    }

    // un mes antes + 3–5 días, y con día de la semana
    function generarFechaInicioTrabajo(base) {
      const f = new Date(base);
      f.setMonth(f.getMonth() - 1);
      const diasExtra = 3 + Math.floor(Math.random() * 3); // 3,4,5
      f.setDate(f.getDate() - diasExtra);
      return f;
    }

    // descripción según tipo de licencia (no es definición legal, solo texto práctico)
    function descripcionEquipo(tipo) {
      if (tipo === "D1") {
        return "vehículos livianos de transporte de carga, dentro de los parámetros permitidos para la licencia tipo D1";
      } else if (tipo === "D2") {
        return "vehículos pesados de transporte de carga y equipo similar, dentro de los parámetros permitidos para la licencia tipo D2";
      } else { // D3
        return "montacargas y equipo industrial de carga, dentro de los parámetros permitidos para la licencia tipo D3";
      }
    }

    function generarCarta() {
      const sedeCiudad = document.getElementById("sedeCiudad").value.trim() || "____________";
      const nombreTrabajador = document.getElementById("nombreTrabajador").value.trim() || "_____________________________";
      const cedulaTrabajador = document.getElementById("cedulaTrabajador").value.trim() || "___________";
      const vecino = document.getElementById("vecino").value.trim() || "_______________________";
      const correo = document.getElementById("correo").value.trim() || "_______________________";
      const telefono = document.getElementById("telefono").value.trim() || "___________";
      const tipoLicencia = document.getElementById("tipoLicencia").value;

      const hoy = ajustarFechaHabil(new Date());
      const fechaInicio = generarFechaInicioTrabajo(hoy);

      const fechaCartaLinea = formatearFecha(hoy);
      const fechaInicioTexto = formatearFechaConDia(fechaInicio);
      const sedeLinea = `Sede Regional de Educación Vial ${sedeCiudad}`;
      const descEquipo = descripcionEquipo(tipoLicencia);

      document.getElementById("carta").innerHTML = `
<b>${fechaCartaLinea}</b><br><br>
<b>Señores:</b><br>
<b>${sedeLinea}</b><br>
<b>Departamento de Evaluación de Conductores</b><br>
<b>Dirección General de Educación Vial</b><br>
<b>Ministerio de Obras Públicas y Transportes (MOPT)</b><br><br>

<b>Estimados señores:</b><br>
Por medio de la presente, yo, <b>Neal Ariel Acosta Castro</b>, cédula de identidad <b>7-0262-0124</b>, en mi calidad de <b>representante de Inversiones Acosta Durán del Caribe S.A.</b>, personería jurídica <b>3-101-899284</b>, hago constar que el señor <b>${nombreTrabajador}</b>, cédula de identidad <b>${cedulaTrabajador}</b>, vecino de <b>${vecino}</b>, correo electrónico <b>${correo}</b> y teléfono <b>${telefono}</b>, ha participado en <b>prácticas operativas supervisadas</b> relacionadas con la manipulación y operación de <b>${descEquipo}</b>, en fechas comprendidas desde el día <b>${fechaInicioTexto}</b>.<br>
Durante este período, el señor <b>${nombreTrabajador}</b> ha demostrado responsabilidad, disciplina y habilidades suficientes para desempeñarse de manera segura en operaciones prácticas de carga y equipo afín.<br><br>

La presente constancia se emite únicamente para fines de <b>certificación de experiencia operativa</b> ante la Dirección General de Educación Vial, para la tramitación de la licencia tipo <b>${tipoLicencia}</b>.<br><br>

<b>Esta certificación tiene carácter exclusivamente informativo y no constituye relación laboral, vinculación contractual, subordinación, remuneración ni reconocimiento de derechos laborales o de seguridad social. No genera obligación patronal ni de aseguramiento ante la CCSS para Inversiones Acosta Durán del Caribe S.A.</b><br><br>

Agradezco de antemano la atención prestada a la presente.<br><br>

Atentamente,<br><br>
___________________________<br>
<b>Neal Ariel Acosta Castro</b><br>
Representante<br>
<b>Inversiones Acosta Durán del Caribe S.A.</b><br>
Cédula: <b>7-0262-0124</b><br>
Tel.: <b>8977-5801</b>`;
    }

    function copiarTexto() {
      const carta = document.getElementById("carta");
      const texto = carta.innerText || "";
      if (!texto.trim()) return;
      if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(texto)
          .then(() => alert("Texto copiado. Pegalo en Word si querés."))
          .catch(() => alert("No se pudo copiar automáticamente, pero podés seleccionar y copiar a mano."));
      } else {
        alert("Tu navegador no permite copia automática. Seleccioná el texto y copia manualmente (Ctrl+C).");
      }
    }

    // Generar una carta de ejemplo al cargar
    window.addEventListener("DOMContentLoaded", generarCarta);
  </script>
</body>
</html>




